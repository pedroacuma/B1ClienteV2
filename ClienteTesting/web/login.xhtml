<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        
        <!-- Parámetros necesarios para Oauth -->
        <meta charset='utf-8' />
        <meta name="google-signin-scope" content="profile email"/>
        <meta name="google-signin-client_id" content="35516512073-md7a4298ahau8spg0t83u6rf2krmeq3k.apps.googleusercontent.com"/>
        
        <!-- Librerías para estilo  -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"></link>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
        
        <!-- Librería platfrom de google -->
        <script src="https://apis.google.com/js/platform.js"></script>
        
        <!-- Librería propia con funciones para el inicio y cierre de sesión -->
        <h:outputScript library="js" name="loginUtils.js"/>
        
        <title>Login DComics</title>
    </h:head>
    
    <h:body>
        <!-- RemoteCommand para pasar el email del usuario al managed bean -->
        <h:form>
            <p:remoteCommand name="passToJSFMB" actionListener="#{loginBean.login()}" id="remote_action" autoRun="false"  process="@this" update="@this"></p:remoteCommand>
            
            
        <!-- Cabecera de la página -->    
        <div class="jumbotron" style="background-color: #39CCCC ">
            <div class="container">
                <h1>Bienvenido a Comics</h1>
                <b>Tu aplicación para gestión de series de comics.</b> 
            </div>
        </div>
    
        <br/>
        
        
        <!-- Boton de login de Google -->
        <div class="container" align="center">
            <div class="g-signin2" data-onsuccess="onSignIn" data-longtitle="true" data-theme="dark"/><br/>
            <h:commandLink action="#{loginBean.loginAsInvited}"  class="btn btn-outline-info" value="Acceder como invitado" />
        </div>
        
        </h:form>    
            
        <br/>
        <br/>
        
        <!-- Galería con alguans portadas de cómics -->
        <div align="center">
            <p:contentFlow value="#{loginBean.images}" var="image" >
            <p:graphicImage value="/resources/images/#{image}" styleClass="content" />
                <div class="caption">#{image}</div>
            </p:contentFlow>
        </div>
          
        
    </h:body>

</html>